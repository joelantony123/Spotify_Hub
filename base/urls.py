from django.urls import path
from . import views

urlpatterns = [
    path('', views.home, name='home'),
    path('login/', views.login_view, name='login'),
    path('logout/', views.custom_logout, name='logout'),
    path('signup/', views.signup_view, name='signup'),
    path('edit_profile/', views.edit_profile, name='edit_profile'),
    path('cart/', views.cart_view, name='cart_view'),
    path('forgot-password/', views.forgot_password, name='forgot_password'),
    path('reset-password/<str:token>/', views.reset_password, name='reset_password'),
    path('auth/google/login/', views.google_login, name='google_login'),
    path('auth/google/callback/', views.google_callback, name='google_callback'),
    path('admin-dashboard/', views.admin_dashboard, name='admin_dashboard'),
    path('admin/customers/', views.customer_table, name='customer_table'),
    path('toggle-user-status/<int:user_id>/', views.toggle_user_status, name='toggle_user_status'),
    path('delete-product/<int:product_id>/', views.delete_product, name='delete_product'),
    path('edit-product/<int:product_id>/', views.edit_product, name='edit_product'),
    path('remove-from-cart/<int:item_id>/', views.remove_from_cart, name='remove_from_cart'),
    path('update-cart/<int:item_id>/', views.update_cart_item, name='update_cart_item'),
    path('create-checkout-session/', views.create_checkout_session, name='create_checkout_session'),
    path('payment/success/', views.payment_success, name='payment_success'),
    path('payment/cancelled/', views.payment_cancelled, name='payment_cancelled'),
    path('webhook/stripe/', views.stripe_webhook, name='stripe_webhook'),
    path('purchase-history/', views.purchase_history, name='purchase_history'),
    path('download-invoice/<int:order_id>/', views.download_invoice, name='download_invoice'),
    path('admin/orders/', views.admin_order_history, name='admin_order_history'),
    path('product/<int:product_id>/', views.product_detail, name='product_detail'),
    path('add-review/<int:product_id>/', views.add_review, name='add_review'),
    path('chat/', views.chat_view, name='chat'),
    path('chat/messages/<str:user_id>/', views.get_new_messages, name='get_new_messages'),
    path('chat/send/', views.send_chat_message, name='send_chat_message'),
    path('admin/products/', views.product_list, name='product_list'),
    path('chatbot/message/', views.chatbot_message, name='chatbot_message'),
    path('search-products/', views.search_products, name='search_products'),
    path('filter-products/', views.filter_products, name='filter_products'),
    path('gemini_chat/', views.gemini_chat, name='gemini_chat'),
    path('delivery-dashboard/', views.delivery_dashboard, name='delivery_dashboard'),
    path('update-delivery-status/', views.update_delivery_status, name='update_delivery_status'),
    path('update-availability/', views.update_availability, name='update_availability'),
    path('delivery/register/', views.delivery_register, name='delivery_register'),
    path('delivery/login/', views.delivery_login, name='delivery_login'),
    path('delivery/applications/', views.delivery_applications, name='delivery_applications'),
    path('delivery/approve/<int:delivery_boy_id>/', views.approve_delivery_boy, name='approve_delivery_boy'),
    path('delivery/profile/', views.delivery_profile, name='delivery_profile'),
    path('delivery/profile/edit/', views.delivery_profile_edit, name='delivery_profile_edit'),
    path('work-assign/', views.work_assign, name='work_assign'),  # Changed from work_assign_view to work_assign
    path('assign-delivery-boy/', views.assign_delivery_boy, name='assign_delivery_boy'),
    path('delivery/history/', views.view_assigned_history, name='view_assigned_history'),
    path('admin/assign-deliveries/', views.assign_delivery_boy, name='assign_deliveries'),
    path('delivery/delete_delivery_boy/<int:delivery_boy_id>/', views.delete_delivery_boy, name='delete_delivery_boy'),
    path('add_to_cart/', views.add_to_cart, name='add_to_cart'),
    path('predict_category/', views.predict_category_ajax, name='predict_category_ajax'),
    path('create-delivery-payment-intent/', views.create_delivery_payment_intent, name='create_delivery_payment_intent'),
    path('process-delivery-payment/', views.process_delivery_payment, name='process_delivery_payment'),
]
